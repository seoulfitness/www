-- 사용자 테이블
CREATE TABLE IF NOT EXISTS USERS (
    USER_ID VARCHAR(50) PRIMARY KEY COMMENT '아이디',
    PASSWORD VARCHAR(255) NOT NULL COMMENT '비밀번호',
    USER_NAME VARCHAR(100) NOT NULL COMMENT '이름',
    USER_EMAIL VARCHAR(100) NOT NULL COMMENT '이메일',
    USER_PHONE VARCHAR(20) NOT NULL COMMENT '전화번호',
    PROFILE_IMAGE VARCHAR(255) COMMENT '프로필 이미지',
    ROLE VARCHAR(20) NOT NULL DEFAULT 'NORMAL_USER' COMMENT '역할',
    STATUS CHAR(1) DEFAULT 'Y' COMMENT '상태',
    DELETE_REQUEST CHAR(1) DEFAULT 'N' COMMENT '삭제 요청',
    DELETE_REQUESTED_AT DATETIME COMMENT '삭제 요청일시',
    CREATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '생성일시',
    UPDATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일시',
    CREATED_BY VARCHAR(50) COMMENT '등록한 사람',
    UPDATED_BY VARCHAR(50) COMMENT '수정한 사람'
);

-- 관리자 정보
INSERT INTO USERS (USER_ID, PASSWORD, USER_NAME, USER_EMAIL, USER_PHONE, ROLE, CREATED_BY, UPDATED_BY)
SELECT 'sung2ne', '$2a$10$xM/rrCyLBfVzQNqpW3ODvePFPv0H.43/Ezpp17fnistdwIE0Fs8k.', '정필성', 'admin@seoulfitness.kr', '010-1234-5678', '관리자', 'sung2ne', 'sung2ne'
WHERE NOT EXISTS (SELECT 1 FROM USERS WHERE ROLE = '관리자');

-- 지점 테이블
CREATE TABLE IF NOT EXISTS BRANCHES (
    BRANCH_ID INT AUTO_INCREMENT PRIMARY KEY COMMENT '지점 아이디',
    BRANCH_NAME VARCHAR(50) NOT NULL COMMENT '지점 이름',
    BRANCH_ADDRESS VARCHAR(255) NOT NULL COMMENT '지점 주소',
    BRANCH_PHONE VARCHAR(20) NOT NULL COMMENT '지점 전화번호',
    CREATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '생성일시',
    UPDATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일시',
    CREATED_BY VARCHAR(50) COMMENT '등록한 사람',
    UPDATED_BY VARCHAR(50) COMMENT '수정한 사람'
);

-- 지점 관리자 테이블
CREATE TABLE IF NOT EXISTS BRANCH_MANAGERS (
    BRANCH_MANAGER_ID INT AUTO_INCREMENT PRIMARY KEY COMMENT '지점 관리자 아이디',
    BRANCH_ID INT NOT NULL COMMENT '지점 아이디',
    USER_ID VARCHAR(50) NOT NULL COMMENT '아이디',
    CREATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '생성일시',
    UPDATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일시',
    CREATED_BY VARCHAR(50) COMMENT '등록한 사람',
    UPDATED_BY VARCHAR(50) COMMENT '수정한 사람'
);

-- 학교 테이블
CREATE TABLE IF NOT EXISTS SCHOOLS (
    SCHOOL_ID INT AUTO_INCREMENT PRIMARY KEY COMMENT '학교 아이디',
    SCHOOL_NAME VARCHAR(50) NOT NULL COMMENT '학교 이름',
    SCHOOL_ADDRESS VARCHAR(255) NOT NULL COMMENT '학교 주소',
    SCHOOL_PHONE VARCHAR(20) NOT NULL COMMENT '학교 전화번호',
    SCHOOL_WEBSITE VARCHAR(255) COMMENT '학교 웹사이트',
    SCHOOL_LOGO_URL VARCHAR(255) COMMENT '학교 로고 이미지 경로',
    SCHOOL_LOGO_FILENAME VARCHAR(255) COMMENT '학교 로고 이미지 파일명',
    SCHOOL_LOGO_ORIGINAL_FILENAME VARCHAR(255) COMMENT '학교 로고 이미지 원본 파일명',
    SCHOOL_MEMO VARCHAR(255) COMMENT '학교 메모',
    CREATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '생성일시',
    UPDATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일시',
    CREATED_BY VARCHAR(50) COMMENT '등록한 사람',
    UPDATED_BY VARCHAR(50) COMMENT '수정한 사람'
);




